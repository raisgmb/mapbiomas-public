/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var de_21_27 = 
    /* color: #ffe600 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.25286286383643, -4.001699126873236],
                  [-80.19591429458328, -3.9415480454388017],
                  [-80.21278153377044, -3.9433897561467752],
                  [-80.27998536139502, -3.9515234374458457],
                  [-80.28805344611182, -3.968477339489687],
                  [-80.2925166419126, -3.9700185860768573],
                  [-80.29165833502783, -4.020706863780419]]]),
            {
              "original": "21,",
              "new": "27,",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.45511191270543, -3.72468683522786],
                  [-80.45391028306676, -3.711753682408817],
                  [-80.44695799730016, -3.707899394908584],
                  [-80.44661467454625, -3.7031029247778884],
                  [-80.45288031480504, -3.7016468483446108],
                  [-80.45064871690465, -3.694366430286988],
                  [-80.4504770555277, -3.691796856705025],
                  [-80.45365279100133, -3.6883707470301013],
                  [-80.45391028306676, -3.6844307045779208],
                  [-80.453051976182, -3.679548453858735],
                  [-80.45348112962438, -3.6774927613393804],
                  [-80.45107787034704, -3.6763792592452518],
                  [-80.44927542588903, -3.6718395824760544],
                  [-80.44712965867711, -3.667813812067075],
                  [-80.44438307664586, -3.6662720228521253],
                  [-80.44524138353063, -3.663702368253472],
                  [-80.44343893907262, -3.663102781118457],
                  [-80.44335310838414, -3.6605331174193583],
                  [-80.44464056871129, -3.6589913156605296],
                  [-80.44489806077672, -3.649226509621353],
                  [-80.44223730943395, -3.648455599357248],
                  [-80.43966238877965, -3.643144866240102],
                  [-80.44961874864293, -3.6452862946576676],
                  [-80.46369498155309, -3.6762079511073487],
                  [-80.46592657945348, -3.7320526519335413]]]),
            {
              "original": "21,",
              "new": "27,",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.33344285541826, -3.5436833219391857],
                  [-80.34640330860242, -3.548052313482517],
                  [-80.33816355031205, -3.556790234722306],
                  [-80.32906548380508, -3.5586748735526426],
                  [-80.31962409438952, -3.5758077199190903],
                  [-80.25529345315988, -3.5340455713714696],
                  [-80.27353319727261, -3.4866273446771645],
                  [-80.33404367107867, -3.492538893436408],
                  [-80.32760635998397, -3.528006182533696],
                  [-80.33000962279749, -3.5386289726098954],
                  [-80.32734886751393, -3.5414559849525493]]]),
            {
              "original": "21,",
              "new": "27,",
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.22825094029493, -3.5012243430910046],
                  [-80.2309116916377, -3.506878578018595],
                  [-80.22601934239454, -3.506193218029322],
                  [-80.22207113072461, -3.499168249195382]]]),
            {
              "original": "21,",
              "new": "27,",
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.25631757542676, -3.4945420214381033],
                  [-80.25648923680372, -3.4990825785184647],
                  [-80.2540001468379, -3.5056791977077304],
                  [-80.25640340611524, -3.521699364717193],
                  [-80.25219770237989, -3.5432019360829985],
                  [-80.26361542511223, -3.541066603955961],
                  [-80.27734833526848, -3.5587138002736833],
                  [-80.275460060122, -3.5641106909518663],
                  [-80.27794915008782, -3.5739620763786277],
                  [-80.28181153106927, -3.5625687254154883],
                  [-80.28232651520013, -3.5754183591689266],
                  [-80.2575214462304, -3.5777312741406755],
                  [-80.24121361541985, -3.575332695539393],
                  [-80.23202973175286, -3.5679655934821533],
                  [-80.23374634552239, -3.552974215181062],
                  [-80.22533493805169, -3.554987357303737],
                  [-80.22447663116692, -3.549419081133305],
                  [-80.22696572113274, -3.5485195872168083],
                  [-80.22821026611565, -3.5524173878609955],
                  [-80.231514747622, -3.551432231010235],
                  [-80.23069935608147, -3.5492477490262586],
                  [-80.22445121258997, -3.5469373922113303],
                  [-80.22857108563684, -3.5441104007928663],
                  [-80.22522368878626, -3.538799060225106],
                  [-80.22599616498255, -3.5351153706561744],
                  [-80.22711196393274, -3.534430031447258],
                  [-80.22917190045618, -3.534087361652921],
                  [-80.22968688458704, -3.537342719587133],
                  [-80.24075904340052, -3.534258696565903],
                  [-80.2441064402511, -3.5333163541528854],
                  [-80.24899878949427, -3.523378866861701],
                  [-80.2492562815597, -3.513612612159965],
                  [-80.24565139264368, -3.5116422150388433],
                  [-80.24453559369348, -3.505302648274786],
                  [-80.2538701565896, -3.5041669387415753],
                  [-80.25490012485132, -3.499369394371959]]]),
            {
              "original": "21,",
              "new": "27,",
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.15823178756862, -3.8922503460819087],
                  [-80.14866166580349, -3.895290302059633],
                  [-80.14634423721462, -3.896146625704977],
                  [-80.14771752823025, -3.8948621399101464],
                  [-80.14737420547634, -3.8892960121523035],
                  [-80.15115075576931, -3.886727017707951],
                  [-80.15329652298122, -3.885785051117251],
                  [-80.15157990921169, -3.880732666912656],
                  [-80.15527062881618, -3.8805613991216545],
                  [-80.1537256764236, -3.8762796930643475],
                  [-80.15758805740505, -3.867801851132051],
                  [-80.16514115799099, -3.8636057161608734],
                  [-80.19758515823513, -3.873282485922932],
                  [-80.1976709889236, -3.8888678469552604],
                  [-80.17981820572048, -3.8934920195680482]]]),
            {
              "original": "21,",
              "new": "27,",
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.68891379674298, -3.8048928299520397],
                  [-80.68629596074445, -3.807975918466726],
                  [-80.68106028874737, -3.8057492445354733]]]),
            {
              "original": "21,",
              "new": "27,",
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.44893301648781, -3.6802126407587052],
                  [-80.4396203867881, -3.6782854305971693],
                  [-80.43859041852639, -3.6764438703269517],
                  [-80.44258154554055, -3.6782426036573534],
                  [-80.44949091596291, -3.6787565267993476],
                  [-80.45120752973244, -3.681283311269179]]]),
            {
              "original": "21,",
              "new": "27,",
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.45056379956887, -3.688692315906717],
                  [-80.45047796888039, -3.691133419519947],
                  [-80.4488042704551, -3.6901912399728167]]]),
            {
              "original": "21,",
              "new": "27,",
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.1901597686472, -3.6641985455112183],
                  [-80.19350716549779, -3.667110818549574],
                  [-80.19367882687474, -3.6719074828690856],
                  [-80.19187638241674, -3.6746912494531174],
                  [-80.19106099087621, -3.673920361114611],
                  [-80.1923913665476, -3.6714363830498153],
                  [-80.19230553585912, -3.667796057886007],
                  [-80.1866836257639, -3.6630421991751447],
                  [-80.18688747323577, -3.660290517920662],
                  [-80.18738904668189, -3.65911007555692],
                  [-80.18609823340539, -3.6534614610859384],
                  [-80.18738234080267, -3.65389443042975],
                  [-80.18823394149396, -3.6584435669093462],
                  [-80.18743464316506, -3.6623355438396583]]]),
            {
              "original": "21,",
              "new": "27,",
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.24528103807816, -3.5030395808714365],
                  [-80.23978787401566, -3.513062954453653],
                  [-80.23532467821488, -3.5133199626184917],
                  [-80.23549633959183, -3.51134956487963],
                  [-80.23850041368851, -3.511092556172316],
                  [-80.23944455126176, -3.509379162982777],
                  [-80.23875790575394, -3.508008446168653],
                  [-80.2366979692305, -3.505009996130359],
                  [-80.23721295336136, -3.5037249431712305],
                  [-80.24098950365433, -3.503467932367626],
                  [-80.24390774706254, -3.501925866063935]]]),
            {
              "original": "21,",
              "new": "27,",
              "system:index": "10"
            })]),
    de_13_21_a5 = /* color: #5c991e */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.25219326515843, -3.6968503536767],
                  [-80.24987583656956, -3.696464919192859],
                  [-80.25011187096287, -3.693552742124179],
                  [-80.25330906410862, -3.6947304619428207]]]),
            {
              "original": "13,21,",
              "new": "5,5,",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.40887726721786, -3.738244726115112],
                  [-80.41033638892196, -3.7362748183317036],
                  [-80.41231049475692, -3.733919488002768],
                  [-80.41501416144393, -3.732677584012086],
                  [-80.41638745245956, -3.7308789613260323],
                  [-80.41797532019638, -3.7299796486021988],
                  [-80.42029274878524, -3.726339563893248],
                  [-80.4208077329161, -3.7270675820404406],
                  [-80.4190052884581, -3.730750488136111],
                  [-80.41724575934433, -3.732677584012086],
                  [-80.41424168524765, -3.735589631978897],
                  [-80.41166676459335, -3.737088476430688],
                  [-80.41055096564315, -3.737987781872527]]]),
            {
              "original": "13,21,",
              "new": "5,5,",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.24316832236156, -3.485102011672746],
                  [-80.24570032767161, -3.4810754211035837],
                  [-80.24788901022777, -3.483302898866243],
                  [-80.24673029593333, -3.483399279996638],
                  [-80.24464890173778, -3.4857445511270773]]]),
            {
              "original": "13,21,",
              "new": "5,5,",
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.44786585546964, -3.751388905302678],
                  [-80.44572008825773, -3.7506180839222143],
                  [-80.44408930517667, -3.748905145087494],
                  [-80.44533385015959, -3.748262792159286],
                  [-80.44752253271574, -3.7507465541994978]]]),
            {
              "original": "13,21,",
              "new": "5,5,",
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.44215811468595, -3.7321181671679953],
                  [-80.43911112524503, -3.7361008211139755],
                  [-80.43902529455656, -3.7343878538892303],
                  [-80.44323099829191, -3.7302338944908935]]]),
            {
              "original": "13,21,",
              "new": "5,5,",
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.68953514333953, -3.813008775678564],
                  [-80.68844080206145, -3.812687623018838],
                  [-80.68799019094695, -3.812452110992115],
                  [-80.68571567770232, -3.812537751736565],
                  [-80.68440675970305, -3.813008775678564],
                  [-80.68393469091643, -3.812644802655137],
                  [-80.68483591314543, -3.812045317339499],
                  [-80.68588733907927, -3.8118954459452707],
                  [-80.68768978353728, -3.8119596765459924],
                  [-80.69024324651946, -3.8126233924724913]]]),
            {
              "original": "13,21,",
              "new": "5,5,",
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.28789597305209, -3.437763252753578],
                  [-80.28931217941195, -3.4419613791774935],
                  [-80.28493481429965, -3.442989488951762],
                  [-80.2847631529227, -3.4374633858730834]]]),
            {
              "original": "13,21,",
              "new": "5,5,",
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.2847631529227, -3.442603947916464],
                  [-80.28592186721713, -3.442903813179634],
                  [-80.28596478256136, -3.4460738116137226],
                  [-80.28424816879183, -3.447401780792351]]]),
            {
              "original": "13,21,",
              "new": "5,5,",
              "system:index": "7"
            })]),
    de_22_33_a27 = /* color: #deccb6 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.44931773888437, -3.5690252647493526],
                  [-80.44674281873044, -3.5778272211375697],
                  [-80.44299143667205, -3.5868819045515843],
                  [-80.44151453452685, -3.5822305177328353],
                  [-80.4432385149395, -3.5807658846397112],
                  [-80.44226620886984, -3.5768086380761686],
                  [-80.44306818821171, -3.57450508628506],
                  [-80.4442000815104, -3.5733245291794495],
                  [-80.44534806779937, -3.5734476673771103],
                  [-80.44824485527842, -3.570738547596302],
                  [-80.4448545430836, -3.5700960669032527],
                  [-80.44382457482187, -3.5691965931778586],
                  [-80.44197921501963, -3.5687254399225594],
                  [-80.44330959069102, -3.56688365669729],
                  [-80.44442538931123, -3.5658128538098786],
                  [-80.44803027855723, -3.567140649927058]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.4289907430925, -3.5633469895146246],
                  [-80.42881908171555, -3.568079954847673],
                  [-80.4254073118486, -3.570264392165441],
                  [-80.42634072058578, -3.5711103248291662],
                  [-80.42522492163559, -3.5727700638662943],
                  [-80.42075099699875, -3.574879534310069],
                  [-80.42212428801437, -3.5764214791792153],
                  [-80.42023601286789, -3.5799336772529466],
                  [-80.41817607634445, -3.5803619931700004],
                  [-80.41414203398605, -3.5831888731968147],
                  [-80.40955009215256, -3.5844738157767386],
                  [-80.40809097044846, -3.582460738267147],
                  [-80.41354121916672, -3.57616448854777],
                  [-80.41212501280685, -3.572309620434239],
                  [-80.41461410277267, -3.5698253635138153],
                  [-80.41384162657639, -3.5625010497062415],
                  [-80.4159873937883, -3.5582177982378727]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.28123323076323, -3.4987527322534047],
                  [-80.28569642656402, -3.5053493537668547],
                  [-80.28449479692534, -3.510917894160111],
                  [-80.27651254289702, -3.5158010484114235],
                  [-80.2736801301773, -3.5138306559115073],
                  [-80.27582589738921, -3.5108322245592647],
                  [-80.27316514604644, -3.5086904819844333],
                  [-80.26895944231109, -3.5112605724849124],
                  [-80.26664201372222, -3.5104038764371475],
                  [-80.26552621477202, -3.504064301273856],
                  [-80.26037637346343, -3.502693576669408],
                  [-80.26140634172515, -3.497210658187049],
                  [-80.25926057451323, -3.4985813908157692],
                  [-80.24608647605173, -3.5059060547349343],
                  [-80.22501506058083, -3.5471554389729363],
                  [-80.2000373994644, -3.5570069949650724],
                  [-80.2074831189707, -3.5038073574602007],
                  [-80.22986356296983, -3.4850453028698962],
                  [-80.25659982317046, -3.487101443208869]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.21276439520089, -3.8897843856653567],
                  [-80.21632636877267, -3.890298183316887],
                  [-80.21954501959054, -3.895478958788342],
                  [-80.22422279211251, -3.894793899398189],
                  [-80.22559608312814, -3.8923105544348764],
                  [-80.22782768102853, -3.894451369493985],
                  [-80.22714103552072, -3.898690167243206],
                  [-80.23838485571115, -3.9016016523075994],
                  [-80.24340595098703, -3.9013875728670313],
                  [-80.24400676580636, -3.9043846800693625],
                  [-80.24186099859445, -3.906354201833938],
                  [-80.22563899847238, -3.9045559430149672],
                  [-80.21834338995187, -3.90305739105645],
                  [-80.21851505132882, -3.89877579930081],
                  [-80.20782913061349, -3.8964637306844963],
                  [-80.2006622681257, -3.889399037221105],
                  [-80.20855869146554, -3.884089774058945]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.36475413975157, -3.963950135349971],
                  [-80.36342376408018, -3.9615954346144306],
                  [-80.3664707535211, -3.9607819909844846],
                  [-80.36595576939024, -3.9617238730092104],
                  [-80.36642783817686, -3.9638216973009053],
                  [-80.36483997044004, -3.9631795067563353]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.37591212925352, -3.9676748300916014],
                  [-80.37651294407286, -3.968959203695432],
                  [-80.37501090702452, -3.9681457673115785],
                  [-80.37582629856504, -3.9664760795929657]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.37346595463194, -3.973882617332294],
                  [-80.36956065830626, -3.9740110538165903],
                  [-80.36990398106016, -3.9736257443037024],
                  [-80.37329429325499, -3.9733260590025754]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.38331292539624, -3.9521737734644122],
                  [-80.40537141233472, -3.9458373825648],
                  [-80.41361115842847, -3.9588526195697216],
                  [-80.40554307371167, -3.9944722199806013],
                  [-80.38854859739331, -3.992074795257586],
                  [-80.3856303539851, -3.9877080393834876],
                  [-80.38889192014722, -3.9867661870347493],
                  [-80.3922393169978, -3.9844543630590166],
                  [-80.39069436460522, -3.9806869322897698],
                  [-80.38906358152417, -3.9806869322897698],
                  [-80.38854859739331, -3.982313779510397],
                  [-80.38666032224683, -3.982827520069927],
                  [-80.3864028301814, -3.9854818411839292],
                  [-80.38442872434644, -3.9866805640404532],
                  [-80.38666032224683, -3.991047325375793],
                  [-80.37670396238354, -3.99395848670094],
                  [-80.36717675596265, -3.9859955797650026],
                  [-80.36640427976636, -3.9801731903943174],
                  [-80.36752007871655, -3.9802588140658175],
                  [-80.36863587766675, -3.9792313294202457],
                  [-80.3684642162898, -3.9806869322897698],
                  [-80.36966584592847, -3.9809438031172903],
                  [-80.37069581419019, -3.981200673864661],
                  [-80.37181161314038, -3.9792313294202457],
                  [-80.3699233379939, -3.9750357538183727],
                  [-80.36691926389722, -3.9749501296041303],
                  [-80.3662326183894, -3.9774332282064746],
                  [-80.36528848081616, -3.9783750912364693],
                  [-80.36631844907788, -3.985567464303069],
                  [-80.3618552532771, -3.997468991033111],
                  [-80.351212247906, -3.9990101833097897],
                  [-80.35069726377515, -3.9844543630590166],
                  [-80.34983895689038, -3.9834268836506865],
                  [-80.35018227964429, -3.981200673864661],
                  [-80.34803651243237, -3.981800038630177],
                  [-80.34631989866284, -3.983170013598102],
                  [-80.34726403623608, -3.9800019430246145],
                  [-80.34880898862866, -3.977775723978327],
                  [-80.34855149656323, -3.97589199547174],
                  [-80.3471782055476, -3.974864505380995],
                  [-80.34511826902417, -3.9791457056419177],
                  [-80.34254334836987, -3.98257064983025],
                  [-80.34400247007397, -3.9835125069837245],
                  [-80.34443162351636, -3.9859955797650026],
                  [-80.34674905210522, -3.9877080393834876],
                  [-80.34743569761304, -3.9863380719740613],
                  [-80.34803651243237, -3.9859955797650026],
                  [-80.34992478757886, -3.984625609502314],
                  [-80.35052560239819, -3.9990101833097897],
                  [-80.33790849119214, -3.9972977472679685],
                  [-80.33567689329175, -3.9954140634911885],
                  [-80.33533357053784, -3.9925885297162913],
                  [-80.33524773984936, -3.9878792851491225],
                  [-80.33653520017651, -3.98762241648728],
                  [-80.33559106260327, -3.9850537254545495],
                  [-80.33396027952222, -3.9841974933272484],
                  [-80.33241532712964, -3.985396218055885],
                  [-80.32984040647534, -3.9841974933272484],
                  [-80.32949708372144, -3.9880505308790717],
                  [-80.327437147198, -3.988136153730675],
                  [-80.32786630064038, -3.9918179279076718],
                  [-80.33078454404858, -3.9936159976691665],
                  [-80.33301614194897, -3.9943009755897796],
                  [-80.33816598325757, -3.998667696387615],
                  [-80.32958291440991, -4.013736985410158],
                  [-80.30246041685132, -4.0212715257008345],
                  [-80.2959372845271, -4.020072853492202],
                  [-80.29679559141186, -4.014935666928414],
                  [-80.29937051206616, -4.014421946493233],
                  [-80.29928468137769, -4.012452681830831],
                  [-80.30108712583569, -4.009027862415302],
                  [-80.30117295652417, -4.007315447326402],
                  [-80.29937051206616, -4.008685379684423],
                  [-80.29808305173901, -4.008342896810089],
                  [-80.29610894590405, -4.01228144120099],
                  [-80.29516480833081, -4.019730375394564],
                  [-80.26855729490308, -4.0104834124207125],
                  [-80.26581071287183, -3.987194301872506],
                  [-80.27044557004956, -3.9815431680698232],
                  [-80.26602631502158, -3.969569573373791],
                  [-80.28190499238974, -3.970425820700276],
                  [-80.29040223054892, -3.9647745719413545],
                  [-80.29469376497275, -3.963404566422128],
                  [-80.2934063046456, -3.9604932971587385],
                  [-80.2922905056954, -3.9614351795120792],
                  [-80.29108887605673, -3.9620345586332326],
                  [-80.29108887605673, -3.963318941001807],
                  [-80.28199082307822, -3.969398323801935],
                  [-80.26817208223349, -3.968542075409914],
                  [-80.26439553194052, -3.9651170729664407],
                  [-80.26370888643271, -3.9583526514602356],
                  [-80.26645546846396, -3.957924521656341],
                  [-80.27795678071982, -3.9617776819201973],
                  [-80.27349358491904, -3.9564688786675926],
                  [-80.27641182832724, -3.9534719585790605],
                  [-80.27624016695029, -3.944138623791157],
                  [-80.28036003999716, -3.943111094285236],
                  [-80.28302079133994, -3.9486768639067944],
                  [-80.28525238924033, -3.94550866115598],
                  [-80.28774147920615, -3.946707441996726],
                  [-80.28851395540244, -3.9455942884162645],
                  [-80.28722649507529, -3.944823642755964],
                  [-80.28585320405966, -3.944823642755964],
                  [-80.2835357754708, -3.9423404463222127],
                  [-80.28344994478232, -3.9403710093938322],
                  [-80.28834229402548, -3.9395147310139005],
                  [-80.28911477022177, -3.940627892735945],
                  [-80.28765564851767, -3.9403710093938322],
                  [-80.2879131405831, -3.9426829566161987],
                  [-80.28988724641806, -3.9427685841676445],
                  [-80.28954392366416, -3.9401141259723973],
                  [-80.29160386018759, -3.941484169969936],
                  [-80.29168969087607, -3.952786946751686],
                  [-80.29975777559287, -3.9558694955169686],
                  [-80.29950028352744, -3.953900090683756],
                  [-80.30387764863974, -3.954499475258848],
                  [-80.3047359555245, -3.958952032813782],
                  [-80.30310517244345, -3.9599795426959603],
                  [-80.30387764863974, -3.9647745719413545],
                  [-80.30945664339072, -3.9634901918335816],
                  [-80.30808335237509, -3.960236419967208],
                  [-80.30713921480185, -3.9503894008999945],
                  [-80.31040078096396, -3.9476493400148196],
                  [-80.31271820955283, -3.9477349670543993],
                  [-80.31331902437216, -3.9416554253109357],
                  [-80.31555062227255, -3.9426829566161987],
                  [-80.31460648469931, -3.946878696261299],
                  [-80.31477814607626, -3.9505606544049234],
                  [-80.31623726778037, -3.9507319078745105],
                  [-80.31597977571494, -3.946450560533659],
                  [-80.31984215669638, -3.9456799156677205],
                  [-80.32833939485556, -3.9499612669830313],
                  [-80.32842522554404, -3.953557585017694],
                  [-80.33031350069052, -3.9543282225673395],
                  [-80.32765274934775, -3.9547563542297715],
                  [-80.32816773347861, -3.95929453624955],
                  [-80.33082848482138, -3.958095773604465],
                  [-80.33082848482138, -3.9565545047965665],
                  [-80.33211594514853, -3.9560407478899773],
                  [-80.33134346895224, -3.9544138489175142],
                  [-80.33460503511435, -3.9510744147076204],
                  [-80.33906823091513, -3.9513312947396404],
                  [-80.34215813570029, -3.9483343560841253],
                  [-80.341385659504, -3.944823642755964],
                  [-80.33597832612998, -3.946878696261299],
                  [-80.33520584993369, -3.9439673689617303],
                  [-80.33005600862509, -3.9399428703140407],
                  [-80.33374672822958, -3.935318954216894],
                  [-80.33572083406455, -3.9342057853955077],
                  [-80.33932572298056, -3.940884775998709],
                  [-80.33803826265341, -3.9423404463222127],
                  [-80.33717995576865, -3.9452517793221626],
                  [-80.34155732088095, -3.9435392317337596],
                  [-80.34387474946982, -3.9479062211070457],
                  [-80.34696465425498, -3.9446523880677025],
                  [-80.34936791353232, -3.9483343560841253],
                  [-80.35142785005576, -3.952187560938519],
                  [-80.3596675961495, -3.953043826253279],
                  [-80.36395913057333, -3.954499475258848],
                  [-80.36601906709677, -3.9557838693171954],
                  [-80.36610489778525, -3.960236419967208],
                  [-80.36267167024619, -3.9611783026129563],
                  [-80.36473160676962, -3.964688946662912],
                  [-80.36533242158896, -3.9640895694654983],
                  [-80.36713486604697, -3.9643464454604525],
                  [-80.36661988191611, -3.9616920563314597],
                  [-80.36687737398154, -3.9608357999567163],
                  [-80.36687737398154, -3.957410765599494],
                  [-80.3728855221749, -3.959123284549382],
                  [-80.37683373384482, -3.9622058097309405],
                  [-80.37803536348349, -3.964945822471639],
                  [-80.38355921999725, -3.9616912074695945],
                  [-80.38527583376678, -3.9610918280996965],
                  [-80.38493251101288, -3.9590368098214084],
                  [-80.38433169619354, -3.956981786441982],
                  [-80.38218592898163, -3.960149945355542],
                  [-80.37729357973846, -3.959636190679641],
                  [-80.37737941042694, -3.957495542764927],
                  [-80.37437533633026, -3.952871724390145],
                  [-80.37197207705292, -3.9492754033818165],
                  [-80.36587809817108, -3.9482478802307326],
                  [-80.36192988650116, -3.9464497116561716],
                  [-80.36493396059784, -3.9452509304434535],
                  [-80.35720919863495, -3.9442234023128933],
                  [-80.358839981716, -3.9378869507780285],
                  [-80.35540675417694, -3.9348899636492822],
                  [-80.3562650610617, -3.932492366182086],
                  [-80.35566424624237, -3.9307797923397683],
                  [-80.35343264834198, -3.9318073370673408],
                  [-80.35326098696503, -3.9278684087363542],
                  [-80.35369014040741, -3.9249570149752913],
                  [-80.35720919863495, -3.9266696007703623],
                  [-80.35532092348846, -3.9282109249817676],
                  [-80.3602991034201, -3.934975592002648],
                  [-80.36742305056366, -3.935061220347196],
                  [-80.37119960085663, -3.9379725788231728],
                  [-80.37210082308563, -3.940070463177111],
                  [-80.36905383364471, -3.9422539698448973],
                  [-80.36999797121796, -3.942510852605338],
                  [-80.37270163790497, -3.942039900817236],
                  [-80.3738603521994, -3.9409695548522534]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.15767209478607, -3.9198507278943304],
                  [-80.1648818726181, -3.9100888622655265],
                  [-80.17638318487396, -3.906492356783576],
                  [-80.18101804205169, -3.902039519115106],
                  [-80.18033139654388, -3.887995799670246],
                  [-80.19114606329192, -3.897929186469805],
                  [-80.19921414800872, -3.9008406741702424],
                  [-80.20779721685638, -3.909746338598479],
                  [-80.21414868780364, -3.916083003772131],
                  [-80.21449201055755, -3.9249885061528373],
                  [-80.21105878301849, -3.929954995089666],
                  [-80.20487897344817, -3.931838827986345],
                  [-80.20745389410247, -3.936634019781493],
                  [-80.2168952698349, -3.939202861170786],
                  [-80.22462003179778, -3.9371477886935824],
                  [-80.2362930054306, -3.941942949911004],
                  [-80.23852460333099, -3.9486218783727445],
                  [-80.23268811651458, -3.9594108030959],
                  [-80.21020047613372, -3.964548336898679],
                  [-80.15818707891692, -3.9267010918833174]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.27982824918156, -3.912224423066978],
                  [-80.29004210111027, -3.9177047687217623],
                  [-80.29407614346867, -3.918646699517292],
                  [-80.30480497952824, -3.919417369379222],
                  [-80.31304472562199, -3.9221575231354615],
                  [-80.31467550870305, -3.9246407797164395],
                  [-80.30909651395207, -3.92609647841754],
                  [-80.30265921231633, -3.9251545560183696],
                  [-80.29768103238469, -3.927466545464596],
                  [-80.2925311910761, -3.9246407797164395],
                  [-80.29072874661809, -3.92643899539013],
                  [-80.27922743436223, -3.9221575231354615],
                  [-80.27716749783879, -3.9195886292520927],
                  [-80.2749358999384, -3.916077794849985],
                  [-80.26952856656438, -3.9167628368657597],
                  [-80.26455038663273, -3.9149646003785707],
                  [-80.26369207974797, -3.9213868557993745],
                  [-80.26618116971379, -3.92532581471544],
                  [-80.26669615384465, -3.9308060744672715],
                  [-80.27287596341496, -3.9307204456855116],
                  [-80.27802580472355, -3.9339743332089907],
                  [-80.27570837613469, -3.9409102089241563],
                  [-80.27545088406926, -3.9475035186328316],
                  [-80.26274794217473, -3.943564664578],
                  [-80.25467985745793, -3.933118048250234],
                  [-80.25725477811223, -3.9311485895063774],
                  [-80.25828474637395, -3.9230138193419952],
                  [-80.25459402676945, -3.9207874473800457],
                  [-80.2518474447382, -3.9247264091220466],
                  [-80.24446600552922, -3.923955744155537],
                  [-80.23656958218938, -3.9199311488926094],
                  [-80.22558325406438, -3.9190748495282675],
                  [-80.22197836514836, -3.9145364482646627],
                  [-80.2272998678339, -3.913594512843437],
                  [-80.23923033353215, -3.9130807294398755],
                  [-80.24875753995305, -3.912395684411581],
                  [-80.25837057706242, -3.909655498697777],
                  [-80.27176016446477, -3.9099123914890117],
                  [-80.27699583646184, -3.911967530984434]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.41004791791086, -3.9371823225596416],
                  [-80.40747299725656, -3.94300501448526],
                  [-80.39768829877023, -3.9412068345642606],
                  [-80.39717331463937, -3.943433151988412],
                  [-80.38850441510324, -3.9433475245054246],
                  [-80.38180962140207, -3.9408643236622423],
                  [-80.38035049969797, -3.944289426333098],
                  [-80.37760391766672, -3.944289426333098],
                  [-80.37528648907785, -3.941549345325228],
                  [-80.37271156842355, -3.939922417954407],
                  [-80.37159576947336, -3.9376960911333447],
                  [-80.36773338849191, -3.9347847316906326],
                  [-80.36378517682199, -3.9345278465452855],
                  [-80.36198273236398, -3.9340140760169526],
                  [-80.36224022442941, -3.931017074955278],
                  [-80.36438599164133, -3.92973264263066],
                  [-80.3604377799714, -3.930332044628334],
                  [-80.35854950482492, -3.9276775467973324],
                  [-80.3531421714509, -3.9225397850778756],
                  [-80.35297051007394, -3.925365557935488],
                  [-80.35279884869699, -3.927591917694425],
                  [-80.35305634076242, -3.9317877334003404],
                  [-80.35417213971262, -3.9346134749358628],
                  [-80.34816399151926, -3.937781719198132],
                  [-80.34438744122629, -3.9356410149362664],
                  [-80.34018173749094, -3.942063111202139],
                  [-80.33580437237863, -3.93375719063398],
                  [-80.33357277447824, -3.9347847316906326],
                  [-80.32936707074289, -3.939836790109905],
                  [-80.33237114483957, -3.9423199940215468],
                  [-80.32404556805734, -3.9448031905164016],
                  [-80.31769409711008, -3.944118171534739],
                  [-80.31606331402902, -3.9425768767615805],
                  [-80.31297340924387, -3.940778695914697],
                  [-80.31228676373605, -3.947200752503977],
                  [-80.31014099652414, -3.946943871193501],
                  [-80.30687943036203, -3.950026441673194],
                  [-80.30705109173898, -3.9596165876693874],
                  [-80.3051628165925, -3.9592740843668595],
                  [-80.3040470176423, -3.9538796386678765],
                  [-80.29898300702219, -3.9534515065526223],
                  [-80.29915466839914, -3.9550784074141814],
                  [-80.29263153607492, -3.9527664947083525],
                  [-80.29314652020578, -3.941463717648214],
                  [-80.2967514091218, -3.951225215989794],
                  [-80.30138626629953, -3.9517389758809016],
                  [-80.3022445731843, -3.9450600724889173],
                  [-80.30636444623117, -3.9388948832386736],
                  [-80.31597748334055, -3.937011066297947],
                  [-80.32112732464914, -3.930845817426298],
                  [-80.33606186444406, -3.932387133920635],
                  [-80.34018173749094, -3.9282769502716244],
                  [-80.34224167401437, -3.92279667391446],
                  [-80.33571854169016, -3.9178301424162743],
                  [-80.32490387494211, -3.9142336701650398],
                  [-80.32284393841867, -3.9109797057701874],
                  [-80.31717911297922, -3.9089245638527346],
                  [-80.3161491447175, -3.9022453178479264],
                  [-80.31391754681711, -3.896764871196804],
                  [-80.32112732464914, -3.898306250428739],
                  [-80.31975403363352, -3.889742996747477],
                  [-80.32644882733469, -3.882207261517635],
                  [-80.332628636905, -3.8846050027563104],
                  [-80.33468857342844, -3.8974499289819975],
                  [-80.33039703900461, -3.8972786645880064],
                  [-80.33056870038156, -3.9020740544310777],
                  [-80.33486023480539, -3.90549931613164],
                  [-80.33863678509836, -3.9089245638527346],
                  [-80.35442963177805, -3.907554466442614],
                  [-80.37296906048898, -3.913548626079716],
                  [-80.37417069012766, -3.9202277819953637],
                  [-80.3769172721589, -3.9217691180942964],
                  [-80.38567200238352, -3.9210840801789684],
                  [-80.39477005536203, -3.9286194663493337],
                  [-80.40215149457102, -3.936839810001025]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.15604740511665, -3.867811240622393],
                  [-80.14952427279243, -3.8556509558232595],
                  [-80.1533008230854, -3.8486287402716823],
                  [-80.1587939871479, -3.8582200445871644],
                  [-80.16068226229439, -3.8580487722445476],
                  [-80.16342884432564, -3.863529470074875]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.44804058504833, -3.71085600478396],
                  [-80.44349155855906, -3.705695533021664],
                  [-80.44381342364085, -3.704089570935274],
                  [-80.44236503092336, -3.700535032513617],
                  [-80.44432035719038, -3.698854118054197],
                  [-80.4483020942575, -3.6958295286231824],
                  [-80.44653317930175, -3.7021410016765763],
                  [-80.44692478609812, -3.7039182681407157],
                  [-80.44924221249835, -3.7116696797491207]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.47152711916537, -3.7927569176489806],
                  [-80.4729540543613, -3.7904338561437196],
                  [-80.4722888665256, -3.788560414900317],
                  [-80.4736943440494, -3.788399834033532],
                  [-80.47457410860629, -3.7914187493413443],
                  [-80.47266437578769, -3.7932172470678958],
                  [-80.47157003450961, -3.793270773728598]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.50024893550061, -3.8101313120982905],
                  [-80.49602177409314, -3.812379384880547],
                  [-80.49499180583142, -3.8122295135445614],
                  [-80.49585011271618, -3.8111161828023192],
                  [-80.49866106776379, -3.8085897730808473],
                  [-80.49981978205822, -3.8089323375455817]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.44640348206394, -3.615381793543835],
                  [-80.44466541062229, -3.6161099021574783],
                  [-80.44457957993382, -3.614610854374531],
                  [-80.4463605667197, -3.614610854374531]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.45199084978285, -3.6821491231514707],
                  [-80.45246291856947, -3.6846330713615703],
                  [-80.45147586565199, -3.6845902447270236],
                  [-80.45130420427503, -3.6823632568908877]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.44935155611219, -3.7236365698719647],
                  [-80.44368673067274, -3.729075295824794],
                  [-80.44267822008314, -3.72774773589932],
                  [-80.4487936566371, -3.722244764522158]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.47252712791928, -3.807374399773831],
                  [-80.4718833977557, -3.8065608074750528],
                  [-80.47201214378842, -3.8056615729873817],
                  [-80.47278461998471, -3.805104903548344],
                  [-80.47347126549252, -3.805104903548344],
                  [-80.47450123375424, -3.806389524787898]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.45857964104184, -3.8107572226647637],
                  [-80.4611116463519, -3.808145170716092],
                  [-80.46360073631772, -3.8105431203443794]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.46411572044858, -3.8102861974895745],
                  [-80.46222744530209, -3.808145170716092],
                  [-80.46737728661068, -3.810157736033394]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.45793591087826, -3.809986454061992],
                  [-80.45677719658383, -3.8116564518284406],
                  [-80.45510349815854, -3.811613631413393],
                  [-80.45334396904477, -3.810628761278938]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.44978199547299, -3.812341578179193],
                  [-80.45055447166928, -3.811913374273947],
                  [-80.45205650871762, -3.8114851701554633],
                  [-80.45330105370053, -3.811399529306182],
                  [-80.4541593605853, -3.812084655861635]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.44763622826108, -3.8105002998739006],
                  [-80.44750748222836, -3.804933620571657],
                  [-80.44858036583432, -3.800523072197802],
                  [-80.44772205894955, -3.7981679157690524],
                  [-80.44913826530941, -3.796198143638452],
                  [-80.44948158806332, -3.8026641179161946],
                  [-80.44836578911313, -3.803691817972325],
                  [-80.4484516198016, -3.811913374273947]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.4536014611102, -3.7948706859723913],
                  [-80.4539447838641, -3.7938857967083113],
                  [-80.45544682091244, -3.793200655688548],
                  [-80.4559618050433, -3.7917875506198513],
                  [-80.4565197045184, -3.791744729218068],
                  [-80.45750675743588, -3.792344228649974],
                  [-80.45823631828793, -3.7940570818783725]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.4614549691058, -3.798082273595974],
                  [-80.45836506432065, -3.796369428349954],
                  [-80.45918045586117, -3.7935860475790113],
                  [-80.4629140908099, -3.7970117457154773],
                  [-80.46265659874447, -3.797953810320415]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.4631286675311, -3.787676686380343],
                  [-80.46505985802182, -3.7859209988262323],
                  [-80.46999512260922, -3.787248470232086],
                  [-80.47196922844418, -3.788319010205459]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.45767841881283, -3.7820670380545094],
                  [-80.45523224419125, -3.7791551452162504],
                  [-80.45497475212582, -3.774530354148981],
                  [-80.45690594261654, -3.772046659890754],
                  [-80.45896587913998, -3.780739558708769]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.4574209267474, -3.7711473895294407],
                  [-80.45407352989682, -3.767978524652063],
                  [-80.4530435616351, -3.762540040464607],
                  [-80.45454559868344, -3.7611697083836715],
                  [-80.45716343468197, -3.7681498149406294]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.43742237633236, -3.744725555581521],
                  [-80.43961105888852, -3.7426271909147437],
                  [-80.44132767265805, -3.7437406095274035]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.45016823357113, -3.7179174989968855],
                  [-80.45021114891537, -3.712778481132064],
                  [-80.45205650871762, -3.7140632384039924],
                  [-80.45055447166928, -3.7213434942694468]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.43956814354428, -3.6430133717006705],
                  [-80.43862400597104, -3.6418998267467355],
                  [-80.43888149803647, -3.640914766600778],
                  [-80.4400402123309, -3.6425422566959944]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.43682156151303, -3.6282373747342413],
                  [-80.43647823875912, -3.630507326233359],
                  [-80.43557701653012, -3.6313639102220274],
                  [-80.43467579430111, -3.631877860225129],
                  [-80.4330879265643, -3.630807130721829]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.44514713829525, -3.6025608290216034],
                  [-80.44420300072201, -3.603331778417345],
                  [-80.44210014885434, -3.6038885747968745],
                  [-80.44072685783871, -3.605044996957715],
                  [-80.43986855095395, -3.605344809870507],
                  [-80.43905315941342, -3.6068438729515155],
                  [-80.43819485252865, -3.608599915130578],
                  [-80.43776569908627, -3.6100561426559534],
                  [-80.43523369377621, -3.609670670891151],
                  [-80.43707905357846, -3.609285198962755],
                  [-80.4389244133807, -3.605344809870507],
                  [-80.440598111806, -3.6035459309113356],
                  [-80.44403133934506, -3.6021325235195425]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.43433982890681, -3.6703947440890694],
                  [-80.4330952839239, -3.670180607475652],
                  [-80.43335277598933, -3.6686388223438087]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.45279342692928, -3.6814869503886034],
                  [-80.45030433696346, -3.678660378101421],
                  [-80.44961769145564, -3.6783177626693795],
                  [-80.44691402476863, -3.6780179740583145],
                  [-80.44768650096492, -3.677118607620129],
                  [-80.45292217296199, -3.6805447606227704]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.44789839655601, -3.8438204910958036],
                  [-80.45733977228844, -3.8522557540719466],
                  [-80.45545149714195, -3.852512664323384],
                  [-80.44807005793297, -3.847845449331176],
                  [-80.44643927485191, -3.8438204910958036],
                  [-80.44643927485191, -3.837354826935106],
                  [-80.44712592035972, -3.8365840822456905],
                  [-80.44854212671959, -3.837140731257807]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.50561792483114, -3.5260074256851173],
                  [-80.50862199892782, -3.5337175325670493],
                  [-80.50862199892782, -3.5401425726988287],
                  [-80.5032146655538, -3.540313906492549],
                  [-80.50252802004599, -3.5452825727151698],
                  [-80.506132908962, -3.5477668958180004],
                  [-80.5072487079122, -3.5523928589683966],
                  [-80.51617509951376, -3.555905148839436],
                  [-80.5160034381368, -3.5579611171907035],
                  [-80.5127418719747, -3.5580467824391393],
                  [-80.5101669513204, -3.5570187989323063],
                  [-80.50553209414267, -3.556933133588301],
                  [-80.50046808352255, -3.5526498562416156],
                  [-80.49892313112997, -3.5543631695672477],
                  [-80.49686319460653, -3.5524785247340915],
                  [-80.49866563906454, -3.550336878206745],
                  [-80.49162752260946, -3.544340241516279],
                  [-80.49428827395224, -3.5417702424591],
                  [-80.49583322634481, -3.5350025441554305],
                  [-80.49909479250692, -3.530462161912705],
                  [-80.50458795656942, -3.5258360892499976]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.36967140013877, -3.4798683316650227],
                  [-80.39052825743858, -3.489292252095228],
                  [-80.39027076537315, -3.4934901498744875],
                  [-80.37516456420127, -3.4940041768840846],
                  [-80.36889892394248, -3.4865507577068455]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.41200738722983, -3.4871290423447174],
                  [-80.41127782637778, -3.4870433705689563],
                  [-80.41406732375327, -3.485501277270601],
                  [-80.42153459365073, -3.4847302296733504],
                  [-80.44393640334312, -3.4932545540676667],
                  [-80.4414473133773, -3.496424383603106],
                  [-80.4317055302352, -3.4965957254349904],
                  [-80.39685827071372, -3.488713968788101],
                  [-80.39720159346763, -3.4857582929959103],
                  [-80.40775876815025, -3.484044853500892],
                  [-80.4117498951644, -3.485115753550968],
                  [-80.40758710677329, -3.4871290423447174],
                  [-80.41037660414878, -3.488114267204884]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.30934086258779, -3.400085101170007],
                  [-80.31131496842275, -3.397000630489942],
                  [-80.30582180436025, -3.3940875102416252],
                  [-80.30874004776845, -3.3904889378079606],
                  [-80.31680813248525, -3.3939161499533888],
                  [-80.31706562455068, -3.4132796698251777],
                  [-80.31603565628896, -3.413793740265199],
                  [-80.30994167740712, -3.400856217298898]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.31101331403357, -3.4052782840313416],
                  [-80.31667813947303, -3.419415238605167],
                  [-80.31221494367225, -3.417016254912487],
                  [-80.3080092399369, -3.4076772970291946],
                  [-80.30088529279334, -3.4167592205896216],
                  [-80.29831037213904, -3.4236991231259117],
                  [-80.2838049857865, -3.4284113739656545],
                  [-80.28080091168982, -3.423013702889655],
                  [-80.26887044599158, -3.4165878643361225],
                  [-80.28045758893592, -3.415217013206856],
                  [-80.2867232291947, -3.4130750543991515],
                  [-80.28715238263709, -3.415645404395057],
                  [-80.28921231916053, -3.41461726522226],
                  [-80.29049977948767, -3.410076304045837],
                  [-80.29556379010779, -3.405021246569854],
                  [-80.30208692243201, -3.404164454536066],
                  [-80.30328855207068, -3.4065634703095],
                  [-80.30483350446326, -3.4057066796480195],
                  [-80.30612096479041, -3.4035646996589413],
                  [-80.30594930341346, -3.40116567641731],
                  [-80.309468361641, -3.402108150545863]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.23239296033564, -3.4284970510388457],
                  [-80.22827308728877, -3.436293632544912],
                  [-80.22174995496455, -3.4354368684594596],
                  [-80.22956054761592, -3.426355121907116]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.26133137496859, -3.4677923001012343],
                  [-80.27030068191439, -3.4560977911688933],
                  [-80.2712019041434, -3.4563976521751334],
                  [-80.26244717391879, -3.4679208103858246]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.27103024276644, -3.4562691403269183],
                  [-80.27459221633822, -3.4561406284613008],
                  [-80.2755792692557, -3.4564833267309405],
                  [-80.27587967666537, -3.458068304617429],
                  [-80.27493553909213, -3.4596532798544146],
                  [-80.27390557083041, -3.4567403503519256],
                  [-80.27248936447054, -3.4585823509305893],
                  [-80.27060108932406, -3.4572543973849603]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.2316922415716, -3.450716667612329],
                  [-80.23443882360284, -3.4551289235885756],
                  [-80.23789350881403, -3.457013764549644],
                  [-80.23793642415826, -3.4584916485924904],
                  [-80.23654167547052, -3.4584916485924904],
                  [-80.23287241353815, -3.455685808807715],
                  [-80.23089830770319, -3.4517661866686757]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.23848063325097, -3.45867443219097],
                  [-80.2413130459707, -3.461266077855444],
                  [-80.24174219941308, -3.4645645257185214],
                  [-80.24043328141381, -3.465228497600018],
                  [-80.23820168351342, -3.464007645716777],
                  [-80.23987538193872, -3.4618443779867265],
                  [-80.23753649567773, -3.4594240824918723]]]),
            {
              "original": "22,33,",
              "new": "27,27,",
              "system:index": "46"
            })]),
    de_5_13_a27 = /* color: #ada29d */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.51299849895447, -3.8077574536257495],
                  [-80.51465073970765, -3.8089136092658404],
                  [-80.5193070545575, -3.8110760443489395],
                  [-80.51838437465638, -3.810861942107916],
                  [-80.51559487728089, -3.8101554043344072],
                  [-80.5144790783307, -3.8094702762423394],
                  [-80.51308432964295, -3.808100018421746]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.52964965251893, -3.811290146536682],
                  [-80.52578727153748, -3.811397197610567],
                  [-80.52505771068543, -3.8111402750108674],
                  [-80.52999297527283, -3.8110760443489395]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.49035388045203, -3.815868613619861],
                  [-80.48965650610816, -3.8160720095654104],
                  [-80.48974233679664, -3.81512996478104],
                  [-80.49067574553382, -3.8142628544643475],
                  [-80.49192029051673, -3.814294969676862]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.46939574460585, -3.787095218860807],
                  [-80.46787224988539, -3.786923932311861],
                  [-80.4655333636244, -3.7858533906130503],
                  [-80.46694956998427, -3.7857677472199613],
                  [-80.46980344037611, -3.7861317315820915]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.68427801367034, -3.8131800570480405],
                  [-80.68326950308074, -3.8142077445481175],
                  [-80.6823253655075, -3.815877734114537],
                  [-80.6822180771469, -3.8146787675749563],
                  [-80.68314075704802, -3.8139294126381733],
                  [-80.68393469091643, -3.8129017248053216]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.68436384435881, -3.819688723785437],
                  [-80.6833338760971, -3.8196459037707573],
                  [-80.682775976622, -3.819410393651807],
                  [-80.68189621206511, -3.8183613023368608],
                  [-80.6822180771469, -3.817226569471283],
                  [-80.68228245016326, -3.8182328420877267],
                  [-80.68296909567107, -3.8186182227774466],
                  [-80.68455696340789, -3.819410393651807]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.64163337681615, -3.7647881380273294],
                  [-80.62584053013646, -3.7647881380273294],
                  [-80.62841545079075, -3.760848437651578],
                  [-80.64450870488011, -3.761833364415657]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.45500538676029, -3.592299981719753],
                  [-80.45140049784428, -3.593156601764945],
                  [-80.44811747401005, -3.5926426298343226],
                  [-80.4436971935535, -3.59060815476857],
                  [-80.44260285227543, -3.5890019870407954],
                  [-80.4531171116138, -3.587802713295738]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.44103926398805, -3.7310882817752997],
                  [-80.44297045447877, -3.7290112967305795],
                  [-80.443013369823, -3.7311311061575547],
                  [-80.441210925365, -3.7336149167564527]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.44816727948901, -3.7513800692419292],
                  [-80.44567818952319, -3.7504807775561932],
                  [-80.44417615247485, -3.748981956023937],
                  [-80.44547434163806, -3.748211132521178]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.4890265729823, -3.8065772040973074],
                  [-80.48726704386853, -3.8074550273175727],
                  [-80.48632290629529, -3.808011695237412],
                  [-80.48529293803357, -3.808247208479743],
                  [-80.48475649623059, -3.8082686187713164],
                  [-80.48497107295178, -3.8077333613224975],
                  [-80.48643019465588, -3.806170407667406],
                  [-80.48911240367077, -3.80512130019832]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.26087783305957, -3.428629918051602],
                  [-80.26688598125293, -3.428115855568782],
                  [-80.26628516643359, -3.4316714487526605],
                  [-80.26482604472949, -3.433470659539827],
                  [-80.26443980663134, -3.433941880852559],
                  [-80.2605774256499, -3.4291439802580834]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.27315162151172, -3.4320569942066137],
                  [-80.27349494426562, -3.43437026366234],
                  [-80.26667140453173, -3.4384827288528883],
                  [-80.26499770610644, -3.4375831286072165],
                  [-80.26289485423877, -3.4377973192188707],
                  [-80.26233695476367, -3.4387397573386336],
                  [-80.2591183039458, -3.4414813902078967],
                  [-80.25602839916064, -3.4392966521534047],
                  [-80.25469802348925, -3.4389539476904996],
                  [-80.2527239176543, -3.4356554109382973],
                  [-80.24597791894126, -3.4351623831874845],
                  [-80.2416434691732, -3.4282225637731343],
                  [-80.24739412530113, -3.4276656625004374],
                  [-80.2581229613607, -3.431606802994225],
                  [-80.2619424269979, -3.4351623831874845],
                  [-80.26353029473472, -3.4336630437563245],
                  [-80.26666311486412, -3.4328919539892695],
                  [-80.2685513900106, -3.4346054859593598],
                  [-80.27164129479576, -3.4308785499963887],
                  [-80.273486654598, -3.430578680953613]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.30740348433561, -3.420327623602437],
                  [-80.30766097640104, -3.4192994894470417],
                  [-80.30710307692594, -3.4187640024711783],
                  [-80.30648080443449, -3.419042455735937],
                  [-80.3057083282382, -3.420734593067681],
                  [-80.30600873564786, -3.418506968616554],
                  [-80.30611602400846, -3.4172003787907177],
                  [-80.30697433089323, -3.41698618356754],
                  [-80.3079613838107, -3.417864383678688],
                  [-80.30920592879362, -3.417414573966073],
                  [-80.30942050551481, -3.4156367525622255],
                  [-80.31023589705534, -3.4165149539082558],
                  [-80.31023589705534, -3.420113429077645],
                  [-80.3079613838107, -3.4201776874401055]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.2979752770254, -3.4292854657818514],
                  [-80.30121538551539, -3.429563915987095],
                  [-80.30316803367823, -3.4318771914792463],
                  [-80.30340406807154, -3.434104784807755],
                  [-80.30295345695704, -3.434875873595389],
                  [-80.30082914741725, -3.4336335635754014],
                  [-80.29917690666407, -3.4336335635754014],
                  [-80.29784653099269, -3.432541186187966],
                  [-80.29748175056666, -3.4294996582546133]]]),
            {
              "original": "5,13,",
              "new": "27,27,",
              "system:index": "14"
            })]),
    de_22_5_a33 = /* color: #0001d6 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.34713042963018, -3.9854996327908903],
                  [-80.3467012761878, -3.9863558635624985],
                  [-80.34661544549932, -3.986912413085884],
                  [-80.3463579534339, -3.987169281969602],
                  [-80.34605754602423, -3.9870408475377688],
                  [-80.34575713861456, -3.986912413085884],
                  [-80.34537090051641, -3.986270240525456],
                  [-80.34494174707403, -3.9856280674634665],
                  [-80.34472717035284, -3.984600589521232],
                  [-80.34425510156622, -3.9831449935727736],
                  [-80.34339679468145, -3.98258844150016],
                  [-80.3437830327796, -3.9813469009050504],
                  [-80.34549964654913, -3.9795488043099025],
                  [-80.34687293756475, -3.9769800880788457],
                  [-80.34743083703985, -3.975481666579646],
                  [-80.34833205926886, -3.9774082080068256],
                  [-80.34700168359747, -3.9794631805645753],
                  [-80.34584296930304, -3.9831021818882335],
                  [-80.34610046136847, -3.984044038433281],
                  [-80.3472591756629, -3.9827596883318277],
                  [-80.349619519596, -3.9818606420680975],
                  [-80.348718297367, -3.984771835934085],
                  [-80.34803165185919, -3.985456821228916],
                  [-80.34803165185919, -3.9855424443506506]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.33468497980108, -3.987383339311371],
                  [-80.33468497980108, -3.9918357193774483],
                  [-80.33326877344122, -3.9911507393996644],
                  [-80.33309711206427, -3.9905085701515803],
                  [-80.33228172052374, -3.9900804570405852],
                  [-80.33215297449102, -3.9888817391428004],
                  [-80.33129466760626, -3.988111133856422],
                  [-80.33073676813116, -3.987982699571784],
                  [-80.33030761468878, -3.987383339311371],
                  [-80.33030761468878, -3.985157140232619],
                  [-80.33198131311407, -3.986484298101326],
                  [-80.33352626550665, -3.9860561828938623],
                  [-80.33361209619513, -3.9851143286528083],
                  [-80.33438457239141, -3.9851143286528083],
                  [-80.33451331842413, -3.9856280674634665],
                  [-80.3353716253089, -3.985713690567377],
                  [-80.33592952478399, -3.9874261507730435]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.33428294902811, -3.9945257744989933],
                  [-80.33351047283182, -3.9935839299687452],
                  [-80.33153636699686, -3.9933056575143095],
                  [-80.3311286712266, -3.991293530805854],
                  [-80.33018453365335, -3.9911650970187313],
                  [-80.33009870296488, -3.9923424059819834],
                  [-80.32878978496561, -3.9915718039423407],
                  [-80.32868249660501, -3.9899449750394065],
                  [-80.32836063152322, -3.989024530943417],
                  [-80.33020599132547, -3.9889817195650243],
                  [-80.33260925060281, -3.9917216432844786],
                  [-80.33357484584818, -3.992021321886696],
                  [-80.33447606807718, -3.9929631682101023],
                  [-80.33509834056863, -3.99501810189136]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.30392768784442, -3.964348112714685],
                  [-80.30470016404071, -3.9627212300688495],
                  [-80.30645969315448, -3.961308408332843],
                  [-80.30796173020282, -3.960623402986332],
                  [-80.30897024148153, -3.963256387791249],
                  [-80.30723216935077, -3.9637487352701797]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.3901932243643, -3.981362083024994],
                  [-80.39148068469144, -3.984273278654828],
                  [-80.39040780108549, -3.9848726411823145],
                  [-80.38847661059476, -3.9863710455900025],
                  [-80.38487172167875, -3.9872700869238984],
                  [-80.38697457354642, -3.985857307243514],
                  [-80.38710331957914, -3.983160175659537],
                  [-80.38912034075834, -3.982946117218581],
                  [-80.38920617144682, -3.981148024116382]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.36993718188383, -3.980206164257324],
                  [-80.36899304431059, -3.9804202234108],
                  [-80.36929345172025, -3.978365253240616],
                  [-80.36886429827787, -3.978065569662472],
                  [-80.36706185381986, -3.9798208576408136],
                  [-80.3659889702139, -3.978750560538057],
                  [-80.36684727709867, -3.978065569662472],
                  [-80.36723351519682, -3.975882157446244],
                  [-80.36937928240873, -3.9757965333198997],
                  [-80.3711388115225, -3.979050243867024],
                  [-80.3702375892935, -3.981148024116382]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.38412708940231, -3.9613154367309744],
                  [-80.38301129045212, -3.9601166770126492],
                  [-80.38382668199264, -3.959346044848243],
                  [-80.38425583543503, -3.9573338352593415],
                  [-80.38464207353317, -3.9609301212966064]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.37350123199654, -3.941215014015348],
                  [-80.37272875580025, -3.9419428492066024],
                  [-80.37049715789986, -3.9422853596643868],
                  [-80.36946718963814, -3.9422425458648798],
                  [-80.37195627960396, -3.940572805964661]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.30046246407215, -4.008598564603119],
                  [-80.29951832649891, -4.0105678385552475],
                  [-80.29887459633534, -4.012066195992121],
                  [-80.29878876564686, -4.014206701848531],
                  [-80.29758713600819, -4.013564550680704],
                  [-80.29702923653309, -4.014634802346502],
                  [-80.29634259102528, -4.014335132021488],
                  [-80.29668591377919, -4.012280246830203],
                  [-80.29784462807362, -4.010482218047293],
                  [-80.29857418892567, -4.0092407196740085],
                  [-80.29968998787587, -4.009197909351636]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.33179793879162, -3.9557775738707908],
                  [-80.33016715571057, -3.9565910224174927],
                  [-80.33012424036633, -3.9578754132333027],
                  [-80.32849345728528, -3.958774485619119],
                  [-80.32815013453137, -3.955306629610287],
                  [-80.32982383295666, -3.956334144015341],
                  [-80.33038173243176, -3.9560344524455062],
                  [-80.32853637262951, -3.9547500587755433],
                  [-80.330424647776, -3.954835685082145],
                  [-80.33102546259533, -3.955435068980606]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.34090891243648, -3.9435633197752336],
                  [-80.33884897591304, -3.94420552551587],
                  [-80.33760443093013, -3.9447621034229843],
                  [-80.33833399178218, -3.9430923685833976],
                  [-80.33944979073237, -3.9427498584580833],
                  [-80.34017935158442, -3.943306437340037]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.31565322094161, -3.9473240528273723],
                  [-80.31558884792526, -3.949978487987096],
                  [-80.31513823681075, -3.950385215205023],
                  [-80.3150738637944, -3.947580934020231]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.2894426538051, -3.941398308535244],
                  [-80.28950702682145, -3.942147550469069],
                  [-80.2882195664943, -3.942147550469069],
                  [-80.28804790511735, -3.9407775075643814]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.28755437865861, -3.9461720384426897],
                  [-80.28624546065934, -3.9455084274061516],
                  [-80.28650295272477, -3.9449304431682095],
                  [-80.28804790511735, -3.9459151568140185]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.29397378757639, -3.9625963326999947],
                  [-80.29367338016672, -3.9630458664505612],
                  [-80.29043327167673, -3.964351653578249],
                  [-80.29116283252878, -3.9636666507519966],
                  [-80.29182802036448, -3.963324149126066],
                  [-80.29152761295481, -3.962253830630822],
                  [-80.29266486957712, -3.9621682050913694],
                  [-80.29322276905222, -3.961269136392058]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.68803310629119, -3.8147644080975565],
                  [-80.68610191580046, -3.8147429979677083],
                  [-80.68451404806365, -3.8161774754879905],
                  [-80.68363428350676, -3.8171623392642373],
                  [-80.68365574117888, -3.817954511482026],
                  [-80.68487882848967, -3.8188537331137558],
                  [-80.68320513006438, -3.8183398922966783],
                  [-80.68264723058928, -3.8182542521305933],
                  [-80.68275451894988, -3.816049014912175],
                  [-80.683677198851, -3.8142505648339458],
                  [-80.68440675970305, -3.8134155688753304],
                  [-80.68582296606291, -3.8129659553308675],
                  [-80.68837642904509, -3.8129873655049895],
                  [-80.68957805868376, -3.8133085180527346]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.68384886022795, -3.82052371364469],
                  [-80.68264723058928, -3.820288203766648],
                  [-80.68178892370452, -3.81881091305741],
                  [-80.68290472265471, -3.8200098738274524],
                  [-80.68419218298186, -3.820095513818365]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.69530818303448, -3.8056207824022295],
                  [-80.69367739995343, -3.8086182271843727],
                  [-80.69290492375714, -3.8057492445354733]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.4128656941146, -3.485030081591816],
                  [-80.41393857772056, -3.485544113229694],
                  [-80.4114065724105, -3.4870433705689563],
                  [-80.40951829726401, -3.4876859086968954],
                  [-80.40754419142905, -3.48665784748144],
                  [-80.4097328739852, -3.4860581445866767],
                  [-80.41153531844321, -3.485158589527617]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.31354656632314, -3.3832917527842454],
                  [-80.31689396317373, -3.3804642726098546],
                  [-80.31998386795888, -3.3813210856546028],
                  [-80.31629314835439, -3.388175562743176],
                  [-80.31062832291494, -3.387404436492513]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.30547848160634, -3.394173190374344],
                  [-80.31165829117666, -3.396829270718635],
                  [-80.30959835465322, -3.4002564603630505],
                  [-80.30350439655642, -3.40205574958879],
                  [-80.30153029285631, -3.404711816087095],
                  [-80.29397716935047, -3.405911296641779],
                  [-80.30410519059072, -3.395629751467796]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.27200451310048, -3.4146505237204323],
                  [-80.28788319046865, -3.4103665988034253],
                  [-80.28942814286123, -3.4106236348369583],
                  [-80.28934231217275, -3.414821880319747],
                  [-80.28685322220693, -3.4160213756586417],
                  [-80.2865957301415, -3.41345102666909],
                  [-80.28496494706044, -3.414050775382019],
                  [-80.27861347611318, -3.4162784101791215],
                  [-80.2730344813622, -3.4166211227660153]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.23461441144461, -3.422047923514578],
                  [-80.25765995130057, -3.411038282748333],
                  [-80.27117828473563, -3.414336904320102],
                  [-80.27066330060477, -3.4169929290400787],
                  [-80.25581459149832, -3.4151508481603603],
                  [-80.2467165385198, -3.419391912791103],
                  [-80.24319748029227, -3.4234616036397494],
                  [-80.24817566022391, -3.423590119911314],
                  [-80.25392631635184, -3.4253893459021167],
                  [-80.2666721735906, -3.421790890540434],
                  [-80.28092006787772, -3.4232902485841747],
                  [-80.28272251233572, -3.4272742456937904],
                  [-80.2819071207952, -3.430058749953882],
                  [-80.27654270276541, -3.429673203693798],
                  [-80.26383976087088, -3.4250466364502574],
                  [-80.26135067090506, -3.42581773254439],
                  [-80.26087860211844, -3.4283023712877694],
                  [-80.25843242749686, -3.4292876572782354],
                  [-80.25418380841727, -3.4292019802758946],
                  [-80.246931115241, -3.4267601824824454],
                  [-80.23564437970633, -3.4269315369169213]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.30753223036832, -3.419128133647293],
                  [-80.30740348433561, -3.422426727412248],
                  [-80.30864802931852, -3.4242902136754725],
                  [-80.30841199492521, -3.4256610518299206],
                  [-80.3072747383029, -3.423669051990588],
                  [-80.30596582030363, -3.4228122765917375],
                  [-80.30502168273038, -3.423733310114609],
                  [-80.30420629118986, -3.424932794304781],
                  [-80.30373422240324, -3.4232192450017496],
                  [-80.30427066420621, -3.422555243822649],
                  [-80.30538646315641, -3.420970206889634],
                  [-80.30699578856535, -3.418378451663423]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-80.30555812453336, -3.4187425829859186],
                  [-80.3044852409274, -3.4212058206536757],
                  [-80.30394879912443, -3.419492264685155],
                  [-80.30476419066495, -3.418378451663423]]]),
            {
              "original": "22,5,",
              "new": "33,33,",
              "system:index": "24"
            })]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/

/** 
 * STEP 03-0: CLCULO DE PIXELES ESTABLES Y AREAS DE EXCLUSIN v3.2 
 * by: Ajust 14/10/2021 EYTC
 *           08/03/2022 EYTC: 
 * DOCUMENTACIN:
 * ----------------------------------------------------------------------------------------------
 */ 

/** 
 * PARAMETROS DE USUARIO:
 * Ajuste los parmetros a continuacn para generar la imagen de pixeles estables correspondiente
 * CUIDADO: considere que el proceso de exclusin con polgonos o shapes ocurr LUEGO
 * del remap y puede afectar el resultado generado por este ltimo si los polgonos de
 * exclusin y las clases remapeadas se solapan.
 * ----------------------------------------------------------------------------------------------
 */
var param = {
  pais : 'PERU',
  regionId: 70501,
  yearsPreview: [2013,2018],
  remap: {
    from: [3, 4, 5, 6, 9, 11, 12, 13, 14, 15, 18, 19, 20, 21, 22, 23, 24, 25, 26, 29, 30, 31, 32, 33, 34],
    to:   [27, 27, 5, 5, 5, 27, 12, 13, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 33, 22, 22, 33, 32, 33, 34]
  },
  exclusion : {
    years: [
      //2011, 2012
    ],
    classes: [ ],
    polygons: [ de_22_5_a33, de_5_13_a27, de_22_33_a27, de_21_27, de_13_21_a5  ],
    shape: '',
  },
  driveFolder: 'DRIVE-EXPORT',
  ciclo: 'ciclo-1',
  useRef: 'MINAM_AJUT_DEMER'  // MINAM_DEMER, DEMER, MINAM_AJUT_DEMER, COL3_RAISG      // OJO solo usar COL3_RAISG para regiones RAISG
};



/**
 * IMPLEMETACIN DE LA APLICACIN
 * Self invoked expresion que ejecuta el paso 2 de la metodologa
 * ----------------------------------------------------------------------------------------------
 */
var paths = require('users/raisgmb01/projects-mapbiomas:mapbiomas-peru/collection-4/modules/CollectionDirectories.js').paths;
var palette = require('users/mapbiomas/modules:Palettes.js').get('classification2');

(function init(param) {
  
  var assets = {
    basePath: paths.muestrasestables,
    regions: paths.regionVectorBuffer,
    // regionsRaster:  paths.regionCRaster,
    mosaics_c3_v2: paths.mosaics_c4,
    // mosaics_per: paths.mosaics_per,
    Class_Col3: paths.collection3,
    Class_DEMERN: paths.classification_DEMERN,
    Class_MINAM: paths.CobVeg_MINAM,
    midagri2020: paths.midagri2020,
    bosqueseco2018_SERFOR: paths.bosqueseco2018_SERFOR,
    cofopri2015:paths.cofopri2015,
    collection3:{
      clasificacion:  paths.collection3,
      regions_RAISG:  paths.regionVector_RAISG,
      regionsRaster_RAISG:paths.regionCRaster_RAISG,
      }
  };
  
  
  // Obtener la version de salida en base al ciclo
  var version = getVersion(param.ciclo);

  // Crear mscara con base en el vector de regin
  var regionId = param.regionId;

  // var regionMask   = ee.Image(assets.regionsRaster).eq(regionId).selfMask()
  // var regionVector = ee.FeatureCollection(assets.regions)
  //                     .filterMetadata("id_regionC", "equals", regionId);
  
  var regionG = getRegion(assets.regions, '', regionId);
  var regionMask = regionG.rasterMask;
  var regionVector = regionG.vector;
                      
  //--- Si se ejecuta en una region RAISG                 
  if(param.useRef === 'COL3_RAISG'){
      regionMask   = ee.Image(assets.collection3.regionsRaster_RAISG).eq(regionId).selfMask()
      regionVector = ee.FeatureCollection(assets.collection3.regions_RAISG)
                      .filterMetadata("id_regionC", "equals", regionId);
  }
  //---   
  
  var region = {
    regionMask:regionMask,
    regionVector:regionVector
    }
  
  var country = param.pais;
  var countryRegion = country + '-' + regionId;

  // Exclusin de reas
  var shapePath = assets.basePath + country + '/';
  var shapeName = param.exclusion.shape;
  var fullRegion = excludeAreas(region.regionMask, shapePath, shapeName);
  
  // Extraer la classificacin COL3 RAISG
  var COL3 = ee.Image(assets.collection3.clasificacion).updateMask(fullRegion);
  COL3 = selectBands(COL3, param.exclusion.years);

  // Extraer la classificacin, ignorando aos con inconsistencias.
  var image = ee.Image(assets.Class_DEMERN).updateMask(fullRegion);
  image = selectBands(image, param.exclusion.years);
  print('Aos usados', image.bandNames());

  if(param.useRef === 'COL3_RAISG'){
     image = COL3
  }

  // Remapeo de clases
  var originalClasses = param.remap.from;
  var newClasses = param.remap.to;
  image = remapBands(image, originalClasses, newClasses);
  
  //Clasificacion MINAM
  var CobV_MINAM = ee.Image(assets.Class_MINAM).updateMask(fullRegion);
      CobV_MINAM = CobV_MINAM.remap(originalClasses, newClasses)
  
  //Clasificacion midagri2020
  var Midagri2020 = ee.Image(assets.midagri2020).updateMask(fullRegion);
      Midagri2020 = Midagri2020.eq(1).multiply(21).selfMask()
      
  //Clasificacion bosqueseco2018_SERFOR
  var bosqueseco2018_SERFOR = ee.Image(assets.bosqueseco2018_SERFOR).updateMask(fullRegion);
      bosqueseco2018_SERFOR = bosqueseco2018_SERFOR.remap([1,2,3,4,5], [0,4,21,25,3]).selfMask()
 
  // cofopri2015
  var cofopri2015 = ee.Image(assets.cofopri2015).multiply(25).updateMask(fullRegion)
  
  var CobV_MINAMidagriSerfor = CobV_MINAM.where(Midagri2020.eq(21),21)
                                         .where(bosqueseco2018_SERFOR.eq(4),4)
                                         .where(bosqueseco2018_SERFOR.eq(3),3)
                                         .where(cofopri2015.eq(25),22)
  // Generar pixeles estables
  var classes = ee.List.sequence(1, 34);
  classes = classes.removeAll(param.exclusion.classes).getInfo();
  var stablePixels = getStablePixels(image, classes);
    print('stablePixels',stablePixels)
    
  if(param.useRef == 'MINAM_DEMER'){
    
    stablePixels = CobV_MINAM.updateMask(stablePixels).rename('constant')
    if(param.exclusion.classes.length > 0 )
    param.exclusion.classes.forEach(function(clas){
         stablePixels = stablePixels.where(stablePixels.eq(clas), 0).selfMask()
    })
    print('stablePixels CobV_MINAM',stablePixels)
    
    // Map.addLayer( stablePixels,  {
    //   min: 0, max: 34,
    //   palette: palette}, 'stablePixels CobV_MINAM');
  }
  
 if(param.useRef == 'MINAM_AJUT_DEMER'){
    
    stablePixels = CobV_MINAMidagriSerfor.updateMask(stablePixels).rename('constant')
    if(param.exclusion.classes.length > 0 )
    param.exclusion.classes.forEach(function(clas){
         stablePixels = stablePixels.where(stablePixels.eq(clas), 0).selfMask()
    })
    print('stablePixels CobV_MINAMidagriSerfor',stablePixels)
    
    // Map.addLayer( stablePixels,  {
    //   min: 0, max: 34,
    //   palette: palette}, 'stablePixels CobV_MINAM');
  }
     
  // Map.addLayer( image,  {
  //   bands: 'classification_2018', min: 0, max: 34,
  //   palette: palette}, 'DEMERT'  );
  // Map.addLayer( stablePixels,  {
  //   min: 0, max: 34,
  //   palette: palette}, 'stablePixels'  );
    
    
  // Exclusin de clases en areas delimitadas con geometras
  var polygons = param.exclusion.polygons;
  stablePixels = remapWithPolygons(stablePixels, polygons);
  
  // Map.addLayer( stablePixels,  {
  //   min: 0, max: 34,
  //   palette: palette}, 'stablePixels2'  );
    
  // Importar mosaicos para visualizacin
  var assetsMosaics = assets.mosaics_c3_v2;
  var variables = ['nir_median', 'swir1_median', 'red_median'];
  var mosaics = getMosaic(assetsMosaics, param.regionId, variables, '');
    
  var assets_clas_ref = assets.Class_DEMERN
  if(param.useRef === 'COL3_RAISG'){
      assets_clas_ref = assets.collection3.clasificacion
  }
  // Mostrar imagenes en el mapa
  var assetData = {
    asset: assets_clas_ref,
    region: region,
    years: param.yearsPreview,
    CobV_MINAM : CobV_MINAM,
    bosqueseco2018_SERFOR : bosqueseco2018_SERFOR,
    Midagri2020 : Midagri2020,
    CobV_MINAMidagriSerfor:CobV_MINAMidagriSerfor,
    cofopri2015:cofopri2015,
    COL3:COL3,
  };

  addLayersToMap(stablePixels, mosaics, assetData);

  // Exportar assets a GEE y Google Drive
  var imageName = 'ME-'+ countryRegion + '-' + version;
  var assetId = assets.basePath + 'muestras-estables/' + imageName;
  var driveFolder = param.driveFolder;
  var vector = region.regionVector;

  var props = {
    code_region: param.regionId,
    pais: country,
    version: version.toString(),
    paso: 'P02'
  };

  stablePixels = stablePixels.set(props);
  exportImage(stablePixels, imageName, assetId, vector, driveFolder);
  
})(param);





/**
 * FUNCIONALIDADES
 * A continuacin se definen las funcionalidades que se usan en la aplicacin.
 * Estas features se inyectan en la funcin init() que las ejecuta y genera los
 * resultados.
 * ----------------------------------------------------------------------------------------------
 */

/**
 * Funcion para asignar una versin por ciclo
 * 
 */
function getVersion(cicle) { 
  var version = {
    'ciclo-1': 1,
    'ciclo-2': 2
  };
  
  return version[cicle];
}




/**
 * Funcin para remapear (reclasificar) la  clasificacion
 * En el orden de ejecucin, esta funcin corre antes del remapeo con polgonos
 */
function remapBands(image, originalClasses, newClasses) {
  var bandNames = image.bandNames().getInfo();
  var collectionList = ee.List([]);
  
  bandNames.forEach(
    function( bandName ) {
      var remapped = image.select(bandName)
        .remap(originalClasses, newClasses);
    
      collectionList = collectionList.add(remapped.int8().rename(bandName));
    }
  );
  var collectionRemap = ee.ImageCollection(collectionList);
  image = collectionRemap.toBands();

  var actualBandNames = image.bandNames();

  var singleClass = actualBandNames.slice(1)
    .iterate(
      function( bandName, previousBand ) {
        bandName = ee.String(bandName);
                
        previousBand = ee.Image(previousBand);

        return previousBand.addBands(image
          .select(bandName)
          .rename(ee.String('classification_')
          .cat(bandName.split('_').get(2))));
      },
      ee.Image(image.select([actualBandNames.get(0)])
          .rename(ee.String('classification_')
          .cat(ee.String(actualBandNames.get(0)).split('_').get(2))))
    );
  return ee.Image(singleClass);
}




/**
 * Funcin para delimitar reas de excusin en las que no se tomarn 
 * muestra de entrenamiento. 
 * Estas reas pueden incluirse como polgonos desde las herramientas de 
 * dibujo o como una coleccin de tipo ee.FeatureCollection() ubicada en la ruta
 * establecida en el parmetro exclusion.shape.
 */
function excludeAreas(image, shapePath, shapeName) {
  var exclusionRegions;
  
  var shapes = shapePath !== '' && shapeName !== '';
    
  if(shapes)
    exclusionRegions = ee.FeatureCollection(shapePath + shapeName);
  
  else exclusionRegions = null;

  
  // Excluir todas las areas definidas
  if(exclusionRegions !== null) {
    var setVersion = function(item) { return item.set('version', 1) };
  
    exclusionRegions = exclusionRegions
      .map(setVersion)
      .reduceToImage(['version'], ee.Reducer.first())
      .eq(1);
    
    return image.where(exclusionRegions.eq(1), 0)
      .selfMask();
  } 
  else return image;
}
    



/**
 * Funcin para remapear, de manera interactiva, zonas delimitadas por polgonos
 * Estos polgonos se dibujan con las herramientas de dibujo de GEE
 * y se definen como ee.FeatureCollection()
 */
function remapWithPolygons(stablePixels, polygons) {
  
  if(polygons.length > 0) {
    polygons.forEach(function( polygon ) {
      
      var excluded = polygon.map(function( layer ){
        
        var area = stablePixels.clip( layer );
        var from = ee.String(layer.get('original')).split(',');
        var to = ee.String(layer.get('new')).split(',');
        
        from = from.map( function( item ){
          return ee.Number.parse( item );
        });
        to = to.map(function(item){
          return ee.Number.parse( item );
        });
        
        return area.remap(from, to);
      });
        
      excluded = ee.ImageCollection( excluded ).mosaic();
      stablePixels = excluded.unmask( stablePixels ).rename('reference');
      stablePixels = stablePixels.mask( stablePixels.neq(27) );
    });
  } else stablePixels = stablePixels;
  
  return stablePixels;
  
}




/**
 * Funcin para seleccionar las bandas con base en los aos definidos en
 * los parmetros
 */
function selectBands(image, years) {
  var bandNames = [];
  
  years.forEach(function(year) {
    bandNames.push('classification_' + year);
  });
  
  return ee.Image(
    ee.Algorithms.If(
      years.length === 0, 
      image, 
      image.select(image.bandNames().removeAll(bandNames))
    )  
  );
}




/**
 * Funcin para generar region de inters (ROI) con base en
 * las regin de clasificacin o una grilla millonsima contenida en ella
 */
function getRegion(regionPath, regionImagePath, regionId){
  
  var region = ee.FeatureCollection(regionPath)
    .filterMetadata("id_regionC", "equals", regionId);
  
  //var regionMask = ee.Image(regionImagePath).eq(regionId).selfMask();
  var setVersion = function(item) { return item.set('version', 1) };
  var regionMask = region
    .map(setVersion)
    .reduceToImage(['version'], ee.Reducer.first());
    
  return {
    vector: region,
    rasterMask: regionMask
  };

}




/**
 * Funcin para filtrar mosaicos
 * Permite filtrar los mosaicos por codigo de regin y grilla 250.000,
 * Tambin gestiona la seleccin de ndices que sern utilizados para generar los
 * puntos de entrenamiento.
 */
function getMosaic(paths, regionId, variables, gridName) {
  
  // Importar datos de altitud
  var altitude = ee.Image('JAXA/ALOS/AW3D30_V1_1')
    .select('AVE')
    .rename('altitude');
      
  var slope = ee.Terrain.slope(altitude).int8()
    .rename('slope');
  
  // Gestionar mosaicos Landsat
  var mosaicRegion = regionId.toString().slice(0, 3);
  
  var joinedMosaics = ee.ImageCollection(paths);

  if(gridName && gridName !== ''){
      joinedMosaics = joinedMosaics
        .filterMetadata('grid_name', 'equals', gridName);
  } else {
      joinedMosaics = joinedMosaics;
  }

  // seleccionar variables
  if(variables.length > 0) return joinedMosaics.select(variables);
  
  else return joinedMosaics;

}




/**
 * Funcin para extraccin de pixeles estables
 * Esta funcin toma dos parmetros. La imagen de la clasificacin y las clases que
 * se quieren obtener como salida
 */
function getStablePixels(image, classes) {
  
  var bandNames = image.bandNames(),
      images = [];

  classes.forEach(function(classId){
      var previousBand = image
        .select([bandNames.get(0)]).eq(classId);
          
      var singleClass = ee.Image(
        bandNames.slice(1)
          .iterate(
            function( bandName, previousBand ) {
              bandName = ee.String( bandName );
              return image
                .select(bandName).eq(classId)
                .multiply(previousBand);
            },
            previousBand
          )
      );
      
      singleClass = singleClass
        .updateMask(singleClass.eq(1))
        .multiply(classId);
      
      images.push(singleClass);
  });
  
  
  // blend all images
  var allStable = ee.Image();
  
  for(var i = 0; i < classes.length; i++) 
    allStable = allStable.blend(images[i]);

  return allStable;
} 




/**
 * Funcin para graficar resultados en el mapa
 */
function addLayersToMap(stablePixels, mosaics, originalImage) {
  
  var palette = require('users/mapbiomas/modules:Palettes.js')
    .get('classification2');
    
  var region = originalImage.region;
    
  var image = ee.Image(originalImage.asset)
                .updateMask(region.regionMask);
    
  var bands;
  
  if(originalImage.years.length === 0) {
    bands = image.bandNames();
  } 
  else {
    bands = ee.List([]);
    originalImage.years.forEach(function(year){
      bands = bands.add('classification_' + year.toString());
    });
  }
  
  bands.evaluate(function(bandnames){

    bandnames.forEach(function(bandname){
      
      // Mosaicos
      var year = parseInt(bandname.split('_')[1], 10);
      
      var mosaic = mosaics.filterMetadata('year', 'equals', year)
        .mosaic()
        .updateMask(region.regionMask);
        
      Map.addLayer(
        mosaic,
        {
          bands: ['swir1_median', 'nir_median', 'red_median'],
          gain: [0.08, 0.06, 0.2]
        },
        'MOSAICO ' + year.toString(), false
      );

      // Clasificaciones
      Map.addLayer(
        image,
        {
          bands: bandname,
          min: 0, max: 34,
          palette: palette
        },
        bandname.toUpperCase().replace('TION_', 'CION ')
      );
      
    });
    
    Map.addLayer( originalImage.CobV_MINAM,  {
     min: 0, max: 34,
     palette: palette}, 'CobV_MINAM', false);
    
    // bosqueseco2018_SERFOR
    Map.addLayer(
      originalImage.bosqueseco2018_SERFOR,
      {
        min: 0,
        max: 34,
        palette: palette
      },
      'bosqueseco2018_SERFOR ', false
    );
    // Midagri2020
    Map.addLayer(
      originalImage.Midagri2020,
      {
        min: 0,
        max: 34,
        palette: palette
      },
      'Midagri2020 ', false
    );
    
    // cofopri2015
    Map.addLayer(
      originalImage.cofopri2015,
      {
        min: 0,
        max: 34,
        palette: palette
      },
      'cofopri2015 ', false
    );
    Map.addLayer( originalImage.CobV_MINAMidagriSerfor,  {
     min: 0, max: 34,
     palette: palette}, 'CobV_MINAM_Ajust', false);
     
     
    // Pixeles estables
    Map.addLayer(
      stablePixels,
      {
        min: 0,
        max: 34,
        palette: palette
      },
      'PIXELES ESTABLES'
    );
    
    // Regin
    Map.addLayer(region.regionVector.style({
      fillColor: '00000066', color: 'FCBA03'
    }), {}, 'REGION ' + param.regionId, false);

    
  });
}




/**
 * Funciones para exportar resultados a GEE y Drive
 */
function exportImage(image, imageName, imageId, region, driveFolder) {
  Export.image.toAsset({
    image: image.toInt8(),
    description: imageName,
    assetId: imageId,
    scale: 30,
    pyramidingPolicy: {
      '.default': 'mode'
    },
    maxPixels: 1e13,
    region: region.geometry().bounds()
  });
  
  if(driveFolder !== '' && driveFolder !== undefined) {
    Export.image.toDrive({
      image: image.toInt8(),
      description: imageName + '-DRIVE',
      folder: driveFolder,
      scale: 30,
      maxPixels: 1e13,
      region: region.geometry().bounds()
    });
  }
}
